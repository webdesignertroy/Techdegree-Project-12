/*******************************
   PROJECTS DATA
*******************************/
var projects=[ { 
	name: "Insurance Agency", url: "https://www.archerinsgroup.com//", github: "", mockup:"", description: 'Per request a marketing agency, I created an insurance company\'s website specializing in High-end client insurance services.  I used large, bold imagery and animated tools to help push a message of professionalism and experience. In the backend, I used custom post type and PHP to build directories for companies and appraisers.  I connected the site to Amazon SES to ensure notifications and marketing emails sent from the webstie do not end up in a recipent\'s junk or SPAM folder. Other features include print.css for printing functionality. The site loads within 3 seconds and scores an 86% with Google PageSpeed (very good for a rich WordPress)', preview: "wp22", tech: ["wordpress", "html", "css", "js", "jquery"]
	}, 
	{ 
	name: "Insurance Agency", url: "https://ardknoxinsurance.com/", github: "", mockup:"", description: 'Per request a marketing agency, I created an insurance company\'s website specializing in Fine Art and Museum Insurance.  I used large, bold imagery and animated tools to help push a message of professionalism and experience. In the backend, I used custom post type and PHP to build directories for companies and appraisers.  I connected the site to Amazon SES to ensure notifications and marketing emails sent from the webstie do not end up in a recipent\'s junk or SPAM folder. Other features include print.css for printing functionality. The site loads within 3 seconds and scores an 86% with Google PageSpeed (very good for a rich WordPress)', preview: "wp21", tech: ["wordpress", "html", "css", "js", "jquery"]
	}, 
	{ 
	name: "Health & Fitness Company", url: "https://www.genesisperformance.net/", github: "", mockup:"", description: 'Per request a marketing agency, I created a health and fitness company\'s website.  I used large, bold imagery and animated tools to help push a message of professionalism and experience. I connecteed Amazon SES to ensure notifictions were sent directly to the recipient\'s inbox and not his/her junk or SPAM folder.', preview: "wp20", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{ 
	name: "Real Estate Agency", url: "https://www.thelynchgroupoc.com/", github: "", mockup:"", description: 'Per request a marketing agency, I created a real estate agency\'s website.  I used large, bold imagery and animated tools to help push a message of professionalism and experience. I add IDX tools to help visitors search for active listings.  I created Featured and Sold pages to show prestige and success in sales.  I connecteed Amazon SES to ensure notifictions were sent directly to the recipient\'s inbox and not his/her junk or SPAM folder.', preview: "wp19", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{	name: "Special Event", url: "https://cliconference.com/", github: "", mockup:"", description: 'Per request a marketing agency, I created a special events website for hotel investors.  I used large, bold imagery and animated tools to help push a message of professionalism and experience. Among special features, I added a publications section that uses a PDF reader.  I connecteed Amazon SES to ensure notifictions were sent directly to the recipient\'s inbox and not his/her junk or SPAM folder.', preview: "wp16", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{	name: "Law Firm", url: "http://www.carlsonlawgroup.com/", github: "", mockup:"", description: 'Per request a marketing agency, I created a law firm\'s website.  I used large, bold imagery and animated tools to help push a message of professionalism and leadership. I added a creative attorney slider and biography section.  I connecteed Amazon SES to ensure notifictions were sent directly to the recipient\'s inbox and not his/her junk or SPAM folder.', preview: "wp15", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{	name: "Insurance Agency", url: "http://www.peakesinsurance.com/", github: "", mockup:"", description: 'Per request a marketing agency, I created an insurance company\'s website.  I used large, bold imagery and animated tools to help push a message of professionalism and experience. In the backend, I built a directory of companies using a custom post type and PHP.  I connected the site to Amazon SES to ensure notifications and marketing emails sent from the webstie do not end up in a recipent\'s junk or SPAM folder. Other features include print.css for printing functionality and embeded custom videos.', preview: "wp14", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{
		name: "Insurance Agency", url: "http://www.cfpinsurance.com/", github: "", mockup:"", description: 'Per request a marketing agency, I created an insurance company\'s website.  I used large, bold imagery and animated tools to help push a message of professionalism and experience. This site is filled with call-to-action cues that propel a visitor to ask for more information ("a quote") at the end of the visit. I connected the site to Amazon SES to ensure notifications and marketing emails sent from the webstie do not end up in a recipent\'s junk or SPAM folder.', preview: "wp13", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{
		name: "Consulting Firm", url: "https://ganisconsulting.com/", github: "", mockup:"", description: 'Per request a marketing agency, I created a consulting firm\'s website.  I added three lead forms to the front page that increases convrersion and automatically updates a third-party CRM database.  I used large, bold imagery and animated tools to help push a message of professionalism and experience. Amazon SES was added to the backend to ensure notifications and marketing emails sent from the webstie do not end up in a recipent\'s junk or SPAM folder.', preview: "wp12", tech: ["wordpress", "html", "css", "js", "jquery"]
	}, 
	{
		name: "Web Development Site", url: "https://webdesignertroy.com/", github: "", mockup:"", description: 'My web development site contains a lot of custom-created helpful animation including a sticky menu, a contact popup, interactive "slide-in" text and interactive contact forms.', preview: "wp8", tech: ["wordpress", "html", "css", "js", "jquery"]
	}, 
	{
		name: "Company Site", url: "http://sterlingpacificmeat.com/", github: "", mockup:"", description: 'The client wanted us to update his very old static company site. I decided to do an entire revamp of the site creating a responsive, dynamic and clean look.  I worked with WordPress\'s CMS so the client achieved the new ability to update the site himself.  I also added a custom <em>agriculture futures</em> page fueled with data from Yahoo! Finance.', preview: "wp4", tech: ["wordpress", "html", "css", "js", "jquery"] 
	},
	{
		
		name: "Small-Business Site", url: "http://cleanandclearpools.com/", github: "", mockup:"", description: 'Per request a marketing firm, I refactored a small-business WordPress website. I introduced a panoramic blue, underwater feel to demonstrate cleanliness and clarity of \'pool-service expertise.\'  I added responsive behavior for mobile device visitors.  I also streamlined the \'copy\' to look and feel more modern. I added a Google map showing multiple service areas and created a custom MailChimp newsletter sign-up form', preview: "wp10", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{
		
		name: "Landing Page", url: "https://siaabenefits.rmshg.com/", github: "", mockup:"", description: 'Per request a marketing firm, I created a langing page for a hospitality insurance brokerage.  This site is filled with call-to-action cues that propel a visitor to fill out the "above-fold" contact form or download contracts, information and marketing marterial.  I added a depository for visitors who want to uploaded exectuted documents and other materials for collection. Amazon SES was added to the backend to ensure notifications and marketing emails sent from the webstie do not end up in a recipent\'s junk or SPAM folder.', preview: "wp9", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{ 
		
		name: "Restaurant Site", url: "https://elfloridita.com/", github: "", mockup:"", description: 'In designing this popular restaurant\'s site, via a marketing agency, the biggest request by the client was to create an online menu with separate prices for lunch, non-event dinners and live-event dinners.  I created a toggle that shifted between different versions of the menu at a press of a button. I also installed an event manager on the backend so the client could present nighttime live events on the front-end with ease.', preview: "wp5", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{
		name: "Business Site", url: "http://www.higginsagency.com/", github: "", mockup:"", description: 'Per request a marketing agency, I created an insurance company\'s website.  I used large, bold imagery and animated tools to help push a message of professionalism and experience. This site is filled with call-to-action cues that propel a visitor to ask for more information ("a quote") at the end of the visit. Amazon SES was added to the backend to ensure notifications and marketing emails sent from the webstie do not end up in a recipent\'s junk or SPAM folder.', preview: "wp6", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{
		name: "Landing Page (Fast Load)", url: "https://sample3.troyrowtham.com/", github: "", mockup:"http://troyrowtham.com/pdfs/proj-wp7.pdf", description: 'Yes. It\'s possible to create a fast-loading WordPress site.  This is a sample of a landing page created per mockup visual for a local college. This WordPress Site is light, customized and image optimized. It loads approximately 90% faster than all tested websites on Pingdom. It also scores well with PageSpeed Insights. Supreme for marketers who want to target smartphone users but not break the budget.', preview: "wp7", tech: ["wordpress", "html", "css", "js", "jquery"]
	},
	{
		name: "Responsive Registration Form", url: "https://webdesignertroy.github.io/techdegree/proj3/", github: "https://github.com/webdesignertroy/Techdegreee-Project-3", mockup:"http://troyrowtham.com/pdfs/proj-3.pdf", description: 'This third project challenge from <a href="https://teamtreehouse.com/techdegree" target="_blank">Treehouse\'s Techdegree Program</a> asked students to construct a responsive online form from scratch. I used HTML and CSS to build a mock newsletter contact form consisting of basic input fields from text boxes to pull-down menus.  Validation functions ensure that visitors fill out required fields completely and correctly.  The form comes complete with a reset button.  Although not a fully functioning form, this exercise still taught me the values of considering user experience and accessibility while building a form interface.', preview: "proj3", tech: ["html", "css", "github"]
	},
	{
		name: "Interactive Image Gallery", url: "https://webdesignertroy.github.io/techdegree/proj4/", github: "https://github.com/webdesignertroy/Techdegree-Project-4", mockup:"http://troyrowtham.com/pdfs/proj-4.pdf", description: 'This fourth challenging project presented to students by <a href="https://teamtreehouse.com/techdegree" target="_blank">Treehouse\'s Techdegree Program</a> asked students to build an interactive photo gallery complete with lightbox. Students were not allowed to use plugins.  So, it appeared that my introduction to programming would be harrowing to say the least. Armed with JavaScript, jQuery, HTML, CSS and my imagination, I constructed a small thumb image gallery. When a visitor clicks on a thumb image, he or she is presented with an interactive lightbox holding an image or video.', preview: "proj4", tech: ["html", "css", "js", "jquery", "github"] 
	},
	{
		name: "Image Gallery - Vanilla JS", url: "https://webdesignertroy.github.io/techdegree/proj4-vanilla/", github: "https://github.com/webdesignertroy/TD-Proj-4-Vanilla", mockup:"http://troyrowtham.com/pdfs/proj-4.pdf", description: 'I presented this version of the fourth project completely in vanilla JavaScript in order to strengthen my coding muscles.', preview: "proj4a", tech: ["html", "css", "js", "github"]
	},
	{
		name: "Building Layouts with Sass", url: "https://webdesignertroy.github.io/techdegree/proj5/", github: "https://github.com/webdesignertroy/Techdegree-Project-5", mockup:"http://troyrowtham.com/pdfs/proj-5.pdf", description: 'Before <a href="https://teamtreehouse.com/techdegree" target="_blank">Treehouse\'s Techdegree Program</a> introduced this fifth challenge to me, I never even heard of Sass. Now, I see how applications like Sass can be invaluable to a company’s workflow.  The project asked students to refactor a previous project with Sass.  I learned how to break very large scripts into manageable smaller ones.  Sass would work hard to recompile them to ensure an optimal online experience.', preview: "proj5", tech: ["html", "css","js","jquery", "sass", "github"]
	},
	{
		name: "HTML5 Video Player", url: "https://webdesignertroy.github.io/techdegree/proj7", github: "https://github.com/webdesignertroy/Techdegree-Project-7", mockup:"http://troyrowtham.com/pdfs/proj-7.pdf", description: 'I worked with HTML5 video players before, but never to the degree that <a href="https://teamtreehouse.com/techdegree" target="_blank">Treehouse\'s Techdegree Program</a> requested in this 7th project.  In my introduction to Object-Oriented Programming, the task asked us to create an interactive video interface from a mockup.  Using JavaScript, jQuery, HTML and CSS, I constructed a video player complete with multiple functions such as a progress bar and two variations of closed captions.', preview: "proj7", tech: ["html", "css", "js", "jquery", "github"] 
	},
	{
		name: "Web App Dashboard", url: "https://webdesignertroy.github.io/techdegree/proj9", github: "https://github.com/webdesignertroy/Techdegree-Project-9", mockup:"http://troyrowtham.com/pdfs/proj-9.pdf", description: 'The web application challenge given to me by <a href="https://teamtreehouse.com/techdegree" target="_blank">Treehouse\'s Techdegree Program</a> as the 9th project was by far the most challenging.  The course gave students a mockup of a web app that consisted of charts, pop-ups, tables and finally a form and then told us to make it interactive using only JavaScript, jQuery, HTML and CSS.  Specifically, working with a third-party plugin chart maker proved difficult.  Documentation was sparse and explanations by the community was few and wide-spread. But, I met the the challenge with wonderful results and growth.', preview: "proj9", tech: ["html", "css", "js", "jquery", "github"]
	} ,
	{
		name: "Public API Gallery", url: "https://webdesignertroy.github.io/techdegree/proj10", github: "https://github.com/webdesignertroy/Techdegree-Project-10", mockup:"", description: 'I personally found <a href="https://teamtreehouse.com/techdegree" target="_blank">Treehouse\'s Techdegree Program\'s</a> 10th project the most rewarding and useful. Students generated a public API call from at least two sources using only JavaScript, jQuery, HTML and CSS.  Building functional, interactive sites that visitors could actually use was why I started the Program.  This app called on iTunes\' and YouTube\'s APIs to generate a movie and show search library. Results from the API mismatch generates great fun.', preview: "proj10", tech: ["html", "css", "js", "jquery", "github"]
	},
	{
		name: "General Contractor Site", url: "https://2mgconstruction.com/", github: "", mockup:"", description: 'I refactored 2MGconstruction to keep up with mobile requests. The old site was outdated, so I started from scratch. I kept the traditional menu, but augmented it with a pull-down version for mobile devices. I replaced slideshows with image grids to give the visitor upfront choices all at once. I added a review section where <em>happy</em> clients could comment on the work completed by 2MGconstruction.', preview: "wp1", tech: ["wordpress", "html", "css", "js", "jquery"] 
	},
	{
		name: "Actor's Site", url: "https://jamaicafarewelltheplay.com", github: "", mockup:"", description: 'In designing this simple site, I wanted to create a dark, cool theatrical appeal. I went with full-width images that took up the entire screen to mimic the feeling of sitting in an open forum. I kept the navigation simple and the call-to-action abundant in order to focus the visitor on the message we were trying to convey, which was "Buy Tickets." I added an audience review form, a calendar of Upcoming Shows and tried to be very helpful with the information we projected. Besides basic show information, I included a Google map with an option for driving instructions and the ability to add the website calendar information to Google Calendars or iCal.', preview: "wp3", tech: ["wordpress", "html", "css", "js", "jquery"]
	}
];

/*******************************
   SKETCH DATA
*******************************/
var sketches=[ { 
	name: "Red Apple", url: "", github: "", mockup:"", description: 'This drawing of an apple was an entry for an art contest and program that interested me. I\'m trying to capture the important details for the idea without going overboard with too much information.', preview: "neflix-contest-apple", tech: []
	}, 
	{ 
	name: "Ham Sandwich", url: "", github: "", mockup:"", description: 'This drawing of a ham sandwich was an entry for an art contest and program that interested me. Differentiating between the different layers and texture of vegetables, cheese and meat without using color was challenging for me.', preview: "neflix-contest-sandwich", tech: []
	}, 
	{ 
	name: "Snickers<sup>®</sup> Bar", url: "", github: "", mockup:"", description: 'This drawing of a cut-open Snickers<sup>®</sup> Bar was an entry for an art contest and program that interested me. My challenge here was finding a way to sketch dark chocolate and caramel and still make it look appetizing.', preview: "neflix-contest-snickers", tech: []
	},
	{ 
	name: "Central Perk Lunch Sack", url: "", github: "", mockup:"", description: 'This drawing of a lunch sack with the <em>Friends\'</em> Central Perk logo on it was an entry for an art contest and program that interested me. This was fun to draw as I am a fan of the sitcom.', preview: "neflix-contest-papersack", tech: []
	},
	{ 
	name: "Friend #1", url: "", github: "", mockup:"", description: 'This was a random sketch of a friend.  ', preview: "woman-1", tech: []
	},
	{ 
	name: "Friend #2", url: "", github: "", mockup:"", description: 'This was a random sketch of a friend.  ', preview: "woman-2", tech: []
	},
	{ 
	name: "Wonder Woman", url: "", github: "", mockup:"", description: 'I am a fan of D.C. Comics and Wonder Woman.  I sketched this years before Wonder Woman became a mainstream hit and franchise.  ', preview: "wonder-woman", tech: []
	},
	{ 
	name: "Perspective Sketch", url: "", github: "", mockup:"", description: 'This sketch was drawn to test and understand perspective.  ', preview: "perspective", tech: []
	},
	{ 
	name: "Pup", url: "", github: "", mockup:"", description: 'This is a quick sketch of a character pup.  I will be adding some character development to this section some time in the near future. ', preview: "pup", tech: []
	}
];

/*******************************
   SKILLS DATA
*******************************/

var skillLevel = {

	// HTML
	html: function() {
		var level = [
			{	
				value: 75,
				color: "#1d7d8b"
			},
			{
				value: 25,
				color: "#eeeeee" 
			} 
		]; 
		
				var canvas = document.querySelector("#html");
				skillLevel.drawDoughnutChart(level, canvas);

	},
	// CSS
	css: function() {
		var level = [
			{	
				value: 85,
				color: "#de3635"
			},
			{
				value: 15,
				color: "#eeeeee"
			} 
		]; 

		var canvas = document.querySelector("#css");
		skillLevel.drawDoughnutChart(level, canvas);
	},
	// JS
	js: function() {
		var level = [
			{	
				value: 70,
				color: "#2a73c0"
			},
			{
				value: 30,
				color: "#eeeeee"
			} 
		]; 

		var canvas = document.querySelector("#js");
		skillLevel.drawDoughnutChart(level, canvas);
	},
	// jQuery
	jquery: function() {
		var level = [
			{	
				value: 65,
				color: "#802ce6"
			},
			{
				value: 35,
				color: "#eeeeee"
			} 
		]; 

		var canvas = document.querySelector("#jquery");
		skillLevel.drawDoughnutChart(level, canvas);
	},
	// WordPress
	wordpress: function() {
		var level = [
			{	
				value: 60,
				color: "#2573be"
			},
			{
				value: 40,
				color: "#eeeeee"
			} 
		]; 

		var canvas = document.querySelector("#wordpress");
		skillLevel.drawDoughnutChart(level, canvas);
	},
	// SASS
	sass: function() {
		var level = [
			{	
				value: 55,
				color: "#1f7e94"
			},
			{
				value: 45,
				color: "#eeeeee"
			} 
		]; 

		var canvas = document.querySelector("#sass");
		skillLevel.drawDoughnutChart(level, canvas);
	},
	// Gulp
	gulp: function() {
		var level = [
			{	
				value: 50,
				color: "#de3635"
			},
			{
				value: 50,
				color: "#eeeeee"
			} 
		]; 

		var canvas = document.querySelector("#gulp");
		skillLevel.drawDoughnutChart(level, canvas);
	},
	// GitHub
	github: function() {
		var level = [
			{	
				value: 60,
				color: "#1f7e94"
			},
			{
				value: 40,
				color: "#eeeeee"
			} 
		]; 

		var canvas = document.querySelector("#github2");
		skillLevel.drawDoughnutChart(level, canvas);
	},

	// Draw Chart
	drawDoughnutChart: function(data, canvas) {
		var options = {
			responsive: false,
			segmentShowStroke: true,
			segmentStrokeWidth: 2,
			showTooltips: false,
			tooltipTemplate: "<%= value %>%",
			percentageInnerCutout: 80
		};
		var ctx = canvas.getContext("2d");
		var doughnutChart = new Chart(ctx).Doughnut(data, options);
	}

}; // end HTML5Level
	



$(document).ready(function(){
	/* Note projects object is defined in data.js file */
	
	/************************
		VARIABLES
	*************************/

	var $wrapper = $("#wrapper");
	var $smLogo = $("#sm-logo");
	var $navDiv = $("#nav");
	var $navBar = $("#main");
	var $menuLi = $("#main li a");
	var $backTop = $("#back-top a");
	var $menuReveal = $("#menu-reveal");
	var mq = window.matchMedia('all and (max-width: 769px)');
	var menuLength = 0;

	var $overlay = $("#overlay");
	var $projectImage = $('<div class="project-image"></div>');
	var $projectDetails = $('<div class="project-details"></div>');
	var $projectTech = $('<div class="project-tech"></div>'); 
	var $cursorBorderLeft = $('<div id="cursor-border-left"></div>');
	var $cursorBorderRight = $('<div id="cursor-border-right"></div>');
	var $arrowLeft = $('<div id="arrow-left"></div>');
	var $arrowRight = $('<div id="arrow-right"></div>');
	var $mobileEscape = $('<div id="esc-container"><div id="mobile-escape">Close<span class="close-icon">&#xf00d;</span></div></div>');
	
	var inView = false;
	
	var preLoadTime = 0;
	
	var $sectionType = "";

	/************************
		FUNCTION EXPRESSIONS
	*************************/

	//Function generates a current year and adds language for copyright notice.
	var currentYear =  function() {
		var d = new Date();
		var n = d.getFullYear();
		document.getElementById("copyright").innerHTML = '&copy;' + n + ' Troy Rowtham Portfolio';
	}// ~end copyright
	currentYear(); 

	// Function: hide menu items
	var hideMenu = function() {
		$navBar.slideUp(700, "swing");
	};

	// Function: show menu items
	var showMenu = function() {
		$navBar.slideDown(700, "swing");
	};

	// Function: scrolls to 'targeted id' on page
	var $scroll = function($hash, menuCount) {
		if( $(this).scrollTop() < 424  && menuCount !== 0) {  // Clicking link before window is 424px is treated differently
			$('html, body').animate({ 
				scrollTop: $( $hash ).offset().top -  menuCount - 295 /* was -295 */
			}, 500, "swing");		} else {
			$('html, body').animate({
				scrollTop: $( $hash ).offset().top -  menuCount - 48
			}, 500, "swing");
		} 
	}; // end scroll function
	
	// Function: Hide #project-image
		var newView = function(direct, animateDir) {
			$projectTech.addClass("transparent");
			$(".layout-details").addClass("transparent");
			if ( animateDir === "back") {
				$projectImage.removeClass("transparent-image-forward-after").removeClass("transparent-image-backwards-after").addClass("transparent-image-backwards").delay(700).queue(function(next){
					findData(direct, $sectionType);
					$projectImage.removeClass("transparent-image-backwards");
					$projectImage.addClass("transparent-image-backwards-after");
					$projectTech.removeClass("transparent");
					$(".layout-details").removeClass("transparent");
					next();
				});
			} else {
				$projectImage.removeClass("transparent-image-backwards-after").removeClass("transparent-image-forward-after").addClass("transparent-image-forward").delay(700).queue(function(next){
					findData(direct, $sectionType);
					$projectImage.removeClass("transparent-image-forward");
					$projectImage.addClass("transparent-image-forward-after");
					$projectTech.removeClass("transparent");
					$(".layout-details").removeClass("transparent");
					next();
				});
			}

			
		}; // end hide #project-image
		
	// Function: Listen for when an element (elem) scrolls into view on the screen
	//      Note: Perfect this.
		var isScrolledIntoView = function(elem) { 
			var docViewTop = $(window).scrollTop();
			var docViewBottom = docViewTop + $(window).height();
			
			var elemTop = $(elem).offset().top;
			var elemBottom = elemTop + $(elem).height();
			return ((elemTop <= docViewBottom) && (elemBottom >= docViewTop));
		}; 	// end Listen for when element scrolls into view
		
	// Function: Find correct data in project details array
		var findData = function(index, identity) {
			var imageHTML = "";
			var detailHTML = "";
				var skillsHTML = "";
				if ( identity === "projects" ) {
						$.each(projects, function(i, data){ 
					if (index  === i) {
						// build image div
						imageHTML += '<div class="image-details" data-image-index="'+ i +'">';
						imageHTML += '<img src="img/projects/' + data.preview + '.jpg"/>';
						imageHTML += '</div>';

						// build description div
						detailHTML += '<div class="layout-details">';
						detailHTML += '<h3>' + data.name +'</h3>';
						detailHTML +=  '<p class="btn-container">';
						if ( data.url !== "" ) {
							detailHTML += '<a href="' + data.url + '" class="btn" target="_blank">Visit Site</a>';
						}
						if ( data.github !== "" ) {
							detailHTML += '<a href="' + data.github + '" class="btn" target="_blank"> Visit GitHub</a>';
						}
						if ( data.mockup !== "" ) {
							detailHTML += '<a id ="show-mock" href="' + data.mockup + '" class="btn" target="_blank"> See Mockup</a>';
						}
						detailHTML += '</p>';
						detailHTML += '<p>' + data.description + '</p>';
						detailHTML +='</div>';

						// build skills badges div
						skillsHTML += '<div class="layout-skills">';
						for ( i = 0; i < data.tech.length; i++ ) {
							skillsHTML += '<div class="badge-container"><div id="' + data.tech[i] + '" class="badge">';
							skillsHTML += data.tech[i];
							skillsHTML += '</div><span>' + data.tech[i] + '</span></div>';
						}
						skillsHTML += '</div>';
					}
					document.querySelector(".project-tech").innerHTML = skillsHTML;
					document.querySelector(".project-image").innerHTML = imageHTML;
					document.querySelector(".project-details").innerHTML = detailHTML;

				}); // end HTML builds
					} else {
						$.each(sketches, function(i, data){ 
					if (index  === i) {
						// build image div
						imageHTML += '<div class="image-details" data-image-index="'+ i +'">';
						imageHTML += '<img src="img/projects/' + data.preview + '.jpg"/>';
						imageHTML += '</div>';

						// build description div
						detailHTML += '<div class="layout-details">';
						detailHTML += '<h3>' + data.name +'</h3>';
						detailHTML +=  '<p class="btn-container">';
						if ( data.url !== "" ) {
							detailHTML += '<a href="' + data.url + '" class="btn" target="_blank">Visit Site</a>';
						}
						if ( data.github !== "" ) {
							detailHTML += '<a href="' + data.github + '" class="btn" target="_blank"> Visit GitHub</a>';
						}
						if ( data.mockup !== "" ) {
							detailHTML += '<a id ="show-mock" href="' + data.mockup + '" class="btn" target="_blank"> See Mockup</a>';
						}
						detailHTML += '</p>';
						detailHTML += '<p>' + data.description + '</p>';
						detailHTML +='</div>';

						// build skills badges div
						skillsHTML += '<div class="layout-skills">';
						for ( i = 0; i < data.tech.length; i++ ) {
							skillsHTML += '<div class="badge-container"><div id="' + data.tech[i] + '" class="badge">';
							skillsHTML += data.tech[i];
							skillsHTML += '</div><span>' + data.tech[i] + '</span></div>';
						}
						skillsHTML += '</div>';
					}
					document.querySelector(".project-tech").innerHTML = skillsHTML;
					document.querySelector(".project-image").innerHTML = imageHTML;
					document.querySelector(".project-details").innerHTML = detailHTML;

				}); // end HTML builds
					}
				
		};  // end find data function 
		
	/************************
		FUNCTION DECLARATIONS
	*************************/	
	// Function: Don't start interactive backgrounds automatically
	var preLoadTimer = setInterval(startEvent, 3000);
	
	function startEvent() {
		preLoadTime = 1;
		clearInterval(preLoadTimer);
	}
	
 	/************************
	   NAVIGATION
	*************************/	

 	// On menu li click, scroll to 'targeted id'
 	$menuLi.on("click", function(e){

 		// prevent normal action
 		e.preventDefault();

 		// defines the href of the'targeted id' 
 		var $link = $(this).attr("href");
 		$scroll($link, 0);

		// invokes hideMenu()
		if (mq.matches) {
			hideMenu();
		}

		// invokes scroll function --> $scroll()
 	 	$scroll($link, menuLength);

 	}); // end menu item click

 	// On #back-top click, scroll to 'targeted id'
 	 $backTop.on("click", function(e){

 	 	// prevent normal action
 	 	e.preventDefault();

 	 	// defines the href of the 'targeted id' 
 	 	var $link = $(this).attr("href");

		// invokes hideMenu()
		if (mq.matches) {
			hideMenu();
		}

		// invokes scroll function --> $scroll()
 	 	$scroll($link, menuLength);

 	 }); // end #back-top click

	// if javascript works, hide/show appropriate menus
	if (mq.matches) {
		$menuReveal.show();
		$navBar.hide();
		menuLength = $menuLi.length;
	} else {
		$menuReveal.hide();
		menuLength = 0;
	} // end hide/show menus when appropriate

 	/************************
	   EVENT LISTENERS
	*************************/	

	// On menu click, reveal or hide mobile navigation
	$menuReveal.on("click", function(){
		// If menu button is above 100px on screen
		//   scroll down
		if ( $menuReveal[0].offsetTop > 424 ) { 
			$('html, body').animate({
				scrollTop: $("#nav").offset().top + 100
			}, 500, "swing");

		}
		// toggles MenuReveal button
		if( $navBar.css("display") === "none" ) {
			showMenu();
		} else {
			hideMenu();
		}
	}); // end #menu-reveal click

	// If javascript is on and the media window changes, 
	//    hide/show appropriate menus
	mq.addListener(function(changed) {
		if(changed.matches) {
			$menuReveal.show();
			$navBar.hide();
			menuLength = $menuLi.length;
		} else {
			$menuReveal.hide();
			$navBar.show();
			menuLength = 0;
		}
	}); // end mq.addListner 

	// Listen for scroll pass 440px then fix main navigation
	if( $(window).height() !== $(document).height() ) {
		$(window).on("scroll", function(){
		 	var scrollWin = $(this).scrollTop();
		 	if ( scrollWin > 440 ) {
		 		$navDiv.addClass("fix-menu");
		 		$wrapper.addClass("add-lost-height");
		 		$("#back-top").removeClass("hide-div");
		 		$smLogo.addClass("show-logo");

		 	} else {
		 		$navDiv.removeClass("fix-menu");
		 		$wrapper.removeClass("add-lost-height");
		 		$("#back-top").addClass("hide-div");
		 		$smLogo.removeClass("show-logo");
		 	}
		});
	} // end scroll pass 440px

	// Listen for scroll pass 100px then fix #back-top
	if( $(window).height() !== $(document).height() ) {
		$(window).on("scroll", function(){
		 	var scrollWin = $(this).scrollTop();
		 	if ( scrollWin > 200 ) {
		 		$("#back-top").addClass("fade-in");
		 	} else {
		 		$("#back-top").removeClass("fade-in");
		 	}
		});
	} // end scroll pass 100px

 	/************************
	   HEADER INTERACTIVE 
	*************************/		
	// Detect Browser if I.E. is being used
	  if ( !!navigator.userAgent.match(/Trident\/7\./) || /Edge/.test(navigator.userAgent) || !!navigator.userAgent.match(/iPhone/i) || !!navigator.userAgent.match(/iPod/i) || !!navigator.userAgent.match(/iPad/i)) {
		  $("#svg-alternative").removeClass("hide-img");
		  $("#logo").addClass("hide-svg");
    } else {
		  $("#logo").removeClass("hide-svg");
		  $("#svg-alternative").addClass("hide-img");
    }  
	// Load after logo animation has run more than 75%
	
	// 
	/*$("#left-trigger").mouseenter(function(){
		if(preLoadTime !== 1) { return;}
		$("#develop-bg").removeClass("reveal-left");
		$("#header").addClass("red");
		$("#create-mobile-svg").addClass("fade-out");
	});
	$("#left-trigger").mouseleave(function(){
		if(preLoadTime !== 1) { return;}
		$("#develop-bg").addClass("reveal-left");
		$("#header").removeClass("red");
		$("#create-mobile-svg").removeClass("fade-out");
	});

	// On right-hemisphere hover in header / Create-side
	$("#right-trigger").mouseenter(function(){
		if(preLoadTime !== 1) { return;}
		$("#create-bg").removeClass("reveal-right");
		$("#header").addClass("blue");
		$("#create-mobile-svg").addClass("fade-out");
	});
	$("#right-trigger").mouseleave(function(){
		if(preLoadTime !== 1) { return;}
		$("#create-bg").addClass("reveal-right");
		$("#header").removeClass("blue");
		$("#create-mobile-svg").removeClass("fade-out");
	});*/
		
 	/*******************************
	   FOR PORTFOLIO INTERACTIVE
	*******************************/

	// Create "for loop" with HTML code mixed with variables 
	function renderProjectDetails() {
		for ( var t="",  i=0; i < projects.length; i++ ) {
			t+='<div class="port-col" data-index="' + i + '">';
			t+="<h3>"+projects[i].name+"</h3>";
			t+='<div class="project-preview"><img src="img/projects/thumbs/'+projects[i].preview+'.png" alt=""><span></span></div>';
			t+="</div>";
		}
		$(".project-details-dom").html(t);
	}

	// Invoke function
	renderProjectDetails();

	// Open overlay on click
	$(".project-details-dom").on("click", ".port-col", function(){

		// Variables
		var $projectIndex = parseInt($(this).attr("data-index")); 
		$sectionType = "projects";

		// Append overlay/wrapper and show
		$projectImage.appendTo($overlay);
		$overlay.addClass("show");
		$projectDetails.appendTo($wrapper);
		$projectTech.appendTo($wrapper);
		$cursorBorderLeft.appendTo($wrapper);
		$cursorBorderRight.appendTo($wrapper);
		$arrowRight.appendTo($wrapper);
		$arrowLeft.appendTo($wrapper);
		$mobileEscape.appendTo($wrapper);

		// Invoke findData() to Find Correct Data
		$whatdata = "projects";
		findData($projectIndex, $whatdata);

		// Fade-in overlay
		$overlay.animate({
			opacity: 1
		}, 500);

		// Fade-in project-details
		$projectDetails.animate({
			opacity: 1
		},500);

		// Fade-in project-skills
		$projectTech.animate({
			opacity: 1
		},500);

	});  // end Open overlay on click

	
	
	
	/*******************************
	   FOR SKETCHES INTERACTIVE
	*******************************/

	// Create "for loop" with HTML code mixed with variables 
	function renderSketchDetails() {
		for ( var t="",  i=0; i < sketches.length; i++ ) {
			t+='<div class="port-col" data-index="' + i + '">';
			t+="<h3>"+sketches[i].name+"</h3>";
			t+='<div class="project-preview"><img src="img/projects/thumbs/'+sketches[i].preview+'.png" alt=""><span></span></div>';
			t+="</div>";
		}
		$(".sketch-details-dom").html(t);
	}

	// Invoke function
	renderSketchDetails();

	// Open overlay on click
	$(".sketch-details-dom").on("click", ".port-col", function(){

		// Variables
		var $projectIndex = parseInt($(this).attr("data-index")); 
		$sectionType = "sketches";

		// Append overlay/wrapper and show
		$projectImage.appendTo($overlay);
		$overlay.addClass("show");
		$projectDetails.appendTo($wrapper);
		$projectTech.appendTo($wrapper);
		$cursorBorderLeft.appendTo($wrapper);
		$cursorBorderRight.appendTo($wrapper);
		$arrowRight.appendTo($wrapper);
		$arrowLeft.appendTo($wrapper);
		$mobileEscape.appendTo($wrapper);

		// Invoke findData() to Find Correct Data
		$whatdata = "sketches";
		findData($projectIndex, $whatdata);

		// Fade-in overlay
		$overlay.animate({
			opacity: 1
		}, 500);

		// Fade-in project-details
		$projectDetails.animate({
			opacity: 1
		},500);

		// Fade-in project-skills
		$projectTech.animate({
			opacity: 1
		},500);

	});  // end Open overlay on click
	
	
	
	
	// Close overlay and project details on click
	$overlay.on("click", function(){
		
		// Variables
		
		$sectionType = "";

		// Fade-out project details
		$projectDetails.animate({
			opacity: 0
		}, 500)

		// Fade-out project details
		$projectTech.animate({
			opacity: 0
		}, 500)

		// Slide Image
		$projectImage.addClass("slide ")

		// Fade-out overlay
		$overlay.animate({
			opacity: 0

		}, 500, function(){
			$overlay.removeClass("show");
			$projectDetails.remove();
			$projectTech.remove();
			$cursorBorderRight.remove();
			$cursorBorderLeft.remove();
			$arrowRight.remove();
			$arrowLeft.remove();
			$mobileEscape.remove();
			$projectImage.removeClass("transparent-image-backwards-after");
			$projectImage.removeClass("transparent-image-forward-after");
		});

	});  //end Close overlay on click
	
	/*  Arrow Navigation and #mobile-escape  */
	
	// On mobile-escape click (bubbling event issues)
	$wrapper.on("click","#mobile-escape", function(){
		$overlay.trigger("click");
	});
	
	// On right-arrow click event (bubbling event issues)
	$wrapper.on("click", "#arrow-right", function(){
		var detailsIndex = parseInt($(".image-details").attr("data-image-index"));
		var animateLeft = "fwd";
			if ( $sectionType === "projects") {
				if ( detailsIndex < projects.length - 1 ) {
					var directions = detailsIndex + 1;
					newView(directions, animateLeft);

				} else {
					var directions = 0;
					newView(directions, animateLeft);
				}
			} else {
				if ( detailsIndex < sketches.length - 1 ) {
					var directions = detailsIndex + 1;
					newView(directions, animateLeft);

				} else {
					var directions = 0;
					newView(directions, animateLeft);
				}
			}
	}); // end right-arrow click event

	// On left arrow click event (bubbling event issues)
	$wrapper.on("click", "#arrow-left", function(){
		var detailsIndex = parseInt($(".image-details").attr("data-image-index"));
		var animateRight = "back";
			if ( $sectionType === "projects") {
					if ( detailsIndex > 0 ) {
						var directions = detailsIndex - 1;
						newView(directions, animateRight);
					} else {
						var directions = projects.length - 1;
						newView(directions, animateRight);
					}
			} else {
					if ( detailsIndex > 0 ) {
						var directions = detailsIndex - 1;
						newView(directions, animateRight);
					} else {
						var directions = sketches.length - 1;
						newView(directions, animateRight);
					}
			}
	}); // end left-arrow click event

	/*  Accessibility: Keyboard  */
	$(this).keyup(function(e){
		"use strict";
		switch(e.keyCode) {
			case 27:
				//Fade out overlay when[ESC=27] is keyed.
				$overlay.trigger("click"); 
			break;
			case 37:
				//Advances slideshow left on left-arrow [37] key.
				$("#arrow-left").trigger("click");			
			break;
			case 39:
				//Advances slideshow right on right-arrow [39] key.
				$("#arrow-right").trigger("click");
			break;
		}
	}); // end Accessibility: Keyboard

 	/*******************************
	   SKILL DOUGHNUT GRAPHS
	*******************************/
	/* Note: skillLevel object is defined in data.js file  */

	// When the 1st skills doughnut chart scrolls into view,
	//    start the animation
	$(window).scroll(function() {
		if( isScrolledIntoView("#html") && inView === false ) {
			 inView = true;
			// Invoke HTML
				skillLevel.html();
		
			// Invoke CSS
				skillLevel.css();
		
			// Invoke JavaScript
				skillLevel.js();
		
			// Invoke jQuery
				skillLevel.jquery();
		
			// Invoke WordPress
				skillLevel.wordpress();
		
			// Invoke Sass
				skillLevel.sass();
		
			// Invoke Gulp
				skillLevel.gulp();
		
			// Invoke GitHub
				skillLevel.github();
		}
	}); // end Animate charts when they scroll into view
	
}); // end main.js